<div class="container">
  <div class="row mt-5 justify-content-center">
    <div class="col-12 text-center">  <%# Sets column width and centers text %>

      <h3>Student Profile</h3>
      <p>Welcome to your student account dashboard! Here you can manage your profile, view your saved resources, and track your learning progress.</p>

  <br>

    <div class="container"> 
  
  <div class="col-10 col-lg-10 mx-auto">
    <div class="row row-cols row-cols-md-3 g-5 justify-content-center">

      <div class="col">
        <div class="card h-100 border-0 shadow-sm text-center p-3">
          <div class="card-body">
            <h1 class="mb-3 text-success">üë©‚Äçüéì</h1>
            <h5 class="card-title">View and Edit Profile</h5>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100 border-0 shadow-sm text-center p-3">
          <div class="card-body">
            <h1 class="mb-3 text-success">‚¨áÔ∏è</h1>
            <h5 class="card-title">Downloaded Resources</h5>
            <h2 class="card-text">10</h2>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100 border-0 shadow-sm text-center p-3">
          <div class="card-body">
            <h1 class="mb-3 text-success">10</h1>
            <h5 class="card-title">Study Groups</h5>
            <%= link_to 'View Study Groups', study_groups_path, class: 'btn btn-primary mt-2' %>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<br>

 <div class="container">
  <h3 class="mt-4">Saved Resources</h3>

  <table class="table table-striped table-hover align-middle mt-3">
    <thead class="table-light">
      <tr>
        <th>Title</th>
        <th class="text-center">Subject</th>
        <th class="text-center">Level</th>
        <th class="text-center">Type</th>
        <th class="text-center">Tutor</th>
        <th class="text-center">Link</th>
        <th class="text-center">Unsave</th>
      </tr>
    </thead>
    <tbody>
      <% if @saved_resource_joins.present? %>
        <% @saved_resource_joins.each do |saved_item| %>
          <% resource = saved_item.resource %>
          <tr>
            <td><%= resource.title %></td>
            <td class="text-center"><%= resource.subject %></td>
            <td class="text-center"><%= resource.grade_level %></td>
            <td class="text-center"><%= resource.resource_type %></td>
            <td class="text-center"><%= resource.user.email %></td>
            <td class="text-center">
              <%= link_to "üîó", resource.upload_file_or_link, target: "_blank" %>
            </td>
            <td>
               <%= button_to "Unsave", saved_resource_path(saved_item), method: :delete, class: "btn btn-sm btn-danger" %>
            </td>
          </tr>
        <% end %>
      <% else %>
        <tr>
          <td colspan="7" class="text-center text-muted">No saved resources yet.</td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
    </div>
  </div>
</div>